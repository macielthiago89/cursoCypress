# CapÃ­tulo 1 â€“ Iniciando com Cypress

## 1.1 Requisitos para utilizar o Cypress

Antes de instalar o Cypress, Ã© necessÃ¡rio garantir que alguns prÃ©-requisitos estejam presentes no seu ambiente de desenvolvimento:

âœ… **Requisitos mÃ­nimos:**
- Node.js (versÃ£o recomendada: LTS mais recente)
- npm (vem junto com o Node.js)
- Editor de cÃ³digo (Visual Studio Code Ã© o mais usado)
- Terminal de comandos (ex: Terminal do VS Code, CMD, PowerShell, ou Git Bash)

## 1.2 InstalaÃ§Ã£o do Node.js

### Passo a passo:
1. Acesse o site oficial: [Node.js](https://nodejs.org)
2. Baixe a versÃ£o **LTS (Long Term Support)**, que Ã© mais estÃ¡vel.
3. Execute o instalador e siga as instruÃ§Ãµes padrÃ£o.

Para confirmar que a instalaÃ§Ã£o foi concluÃ­da com sucesso, use os comandos:

```bash
node -v
```
## 1.3 Instalando o Cypress

Com o Node.js e o npm jÃ¡ instalados, execute o seguinte comando na raiz do seu projeto para instalar o Cypress:

```bash
npm install cypress@13.12.0 --save-dev
```
### ExplicaÃ§Ã£o dos componentes do comando:
- `npm install`: Comando para instalar pacotes.
- `cypress@13.12.0`: Define a versÃ£o especÃ­fica do Cypress.
- `--save-dev`: Indica que Ã© uma dependÃªncia de desenvolvimento.
- **Alternativa abreviada:** `-D`

**Boas prÃ¡ticas:** Fixar a versÃ£o do Cypress evita que atualizaÃ§Ãµes inesperadas causem incompatibilidades.

## 1.4 Abrindo o Cypress

ApÃ³s a instalaÃ§Ã£o, abra a interface grÃ¡fica dentro da pasta do projeto com o comando:

```bash
npx cypress open
```
Esse comando irÃ¡:
- Iniciar o **Cypress Test Runner** (interface visual).
- Criar a estrutura padrÃ£o no projeto (pastas como `cypress/` e `e2e/`).
- Ajudar na criaÃ§Ã£o da primeira suÃ­te de testes **end-to-end**.

**Dica para iniciantes:** Use essa interface nas primeiras execuÃ§Ãµes para se familiarizar com o funcionamento do Cypress.

# CapÃ­tulo 2 â€“ Configurando o Cypress pela primeira vez

## 2.1 Escolhendo o tipo de teste

Ao abrir o Cypress pela primeira vez, vocÃª verÃ¡ a seguinte tela. VocÃª deve escolher entre dois tipos de testes:

### E2E Testing (End-to-End)
Essa Ã© a opÃ§Ã£o mais usada para automaÃ§Ã£o de testes funcionais.

**DescriÃ§Ã£o:**
- Permite simular o comportamento do usuÃ¡rio em um navegador real.
- Testa o fluxo completo de uma aplicaÃ§Ã£o web (ex: login â†’ navegaÃ§Ã£o â†’ checkout).
- Ideal para validar a aplicaÃ§Ã£o como um todo, do inÃ­cio ao fim.

**O que acontece ao escolher essa opÃ§Ã£o:**
- O Cypress criarÃ¡ uma estrutura de diretÃ³rios (`cypress/e2e`, `cypress/support`, `cypress/fixtures`) e um arquivo de configuraÃ§Ã£o (`cypress.config.js` ou `.ts`).
- VocÃª poderÃ¡ comeÃ§ar a escrever seus testes E2E logo em seguida.

### Component Testing
Mais indicado para desenvolvedores que usam frameworks como React, Vue ou Angular.

**DescriÃ§Ã£o:**
- Permite testar componentes de forma isolada, fora do fluxo completo da aplicaÃ§Ã£o.
- Ideal para garantir que cada parte visual (botÃµes, inputs, cards, etc.) esteja funcionando corretamente individualmente.

**Requisitos extras:**
- Essa opÃ§Ã£o geralmente precisa de integraÃ§Ã£o com o framework usado na sua aplicaÃ§Ã£o.
- Requer configuraÃ§Ã£o adicional com ferramentas como Webpack ou Vite.

# CapÃ­tulo 3 â€“ Arquivos de ConfiguraÃ§Ã£o Criados pelo Cypress

ApÃ³s selecionar o tipo de teste E2E, o Cypress exibe a seguinte tela:  
Esses sÃ£o os arquivos gerados automaticamente:

## ğŸ”¹ cypress.config.js
**DescriÃ§Ã£o:** Arquivo principal de configuraÃ§Ã£o do Cypress.  

**FunÃ§Ã£o:** Define opÃ§Ãµes globais como `baseUrl`, `timeout`, diretÃ³rios, etc.  

**Exemplo de uso:**
```js
const { defineConfig } = require("cypress");

module.exports = defineConfig({
  e2e: {
    baseUrl: "http://localhost:3000"
  },
});
```
## ğŸ”¹ cypress/support/e2e.js
**DescriÃ§Ã£o:** Arquivo de suporte que Ã© executado antes de cada teste E2E.  

**FunÃ§Ã£o:** Ideal para importar comandos personalizados ou configurar plugins/globais.  

**Exemplo:** Aqui vocÃª pode adicionar:
```js
import './commands';
```
## ğŸ”¹ cypress/support/commands.js
**DescriÃ§Ã£o:** Arquivo destinado a comandos personalizados do Cypress.  

**FunÃ§Ã£o:** Permite criar comandos reutilizÃ¡veis para testes.  

**Exemplo:**
```js
Cypress.Commands.add('login', (email, senha) => {
  cy.get('#email').type(email);
  cy.get('#password').type(senha);
  cy.get('#submit').click();
});
```
## ğŸ”¹ cypress/fixtures/example.json
**DescriÃ§Ã£o:** Exemplo de arquivo fixture, usado para simular dados.  

**FunÃ§Ã£o:** Fornece dados estÃ¡ticos que podem ser usados nos testes.  

**Exemplo de uso em teste:**
```js
cy.fixture('example').then((data) => {
  cy.get('input[name="nome"]').type(data.nome);
});
```
Esses arquivos jÃ¡ oferecem uma estrutura bÃ¡sica para comeÃ§ar a criar seus testes.  

# CapÃ­tulo 4 â€“ Escolhendo o Navegador para Testes E2E

ApÃ³s a configuraÃ§Ã£o inicial, o Cypress exibe a tela abaixo para que vocÃª escolha o navegador em que os testes serÃ£o executados:

## âœ… O que essa tela exibe?
O Cypress detecta automaticamente os navegadores instalados na sua mÃ¡quina e apresenta as opÃ§Ãµes disponÃ­veis. No exemplo acima, temos:

- **Chrome** (v136)
- **Edge** (v136)
- **Electron** (v118) â€“ navegador interno do prÃ³prio Cypress
- **Firefox** (v135)

## âœ… O que fazer?
1. **Selecione o navegador** desejado.
2. **Clique em** `Start E2E Testing in [nome do navegador]`.

No exemplo, o botÃ£o Ã© `Start E2E Testing in Chrome`.

## ğŸ’¡ Dica:
O navegador **Electron** Ã© Ãºtil para testes rÃ¡pidos, mas para resultados mais reais, **Chrome, Edge ou Firefox** sÃ£o recomendados, pois simulam melhor o ambiente do usuÃ¡rio final.

# CapÃ­tulo 5 â€“ Criando o Primeiro Teste (Spec)

ApÃ³s escolher o navegador, o Cypress abrirÃ¡ a seguinte tela:

## âœ… O que essa tela significa?
Aqui, o Cypress reconhece que ainda nÃ£o hÃ¡ arquivos de teste criados no projeto e oferece duas opÃ§Ãµes:

### ğŸ“¦ Scaffold example specs
- Gera vÃ¡rios arquivos de exemplo.
- Ã‰ Ãºtil para conhecer a estrutura dos testes Cypress e entender boas prÃ¡ticas.

### ğŸ“„ Create new spec
- Cria um novo arquivo de teste vazio.
- Ideal para comeÃ§ar do zero testando sua prÃ³pria aplicaÃ§Ã£o.

## ğŸ” ObservaÃ§Ã£o importante:
A mensagem abaixo dos botÃµes informa que, se vocÃª jÃ¡ tiver arquivos de teste e eles nÃ£o aparecerem, pode ser necessÃ¡rio ajustar o padrÃ£o de localizaÃ§Ã£o dos arquivos (**spec pattern**).

# Arquivos de ConfiguraÃ§Ã£o do Cypress criado dentro da pasta dos testes apÃ³s clicar em new spec.

## 1. cypress.config.js
Este Ã© o arquivo de configuraÃ§Ã£o principal do Cypress.

Define o comportamento do Cypress durante os testes.

Pode conter:
- DiretÃ³rios onde ficam os testes.
- ResoluÃ§Ãµes de tela.
- PadrÃµes de arquivos (specPattern).
- Timeout padrÃ£o, entre outros.

Ã‰ altamente customizÃ¡vel e usado para adaptar o Cypress Ã  estrutura do seu projeto.

ğŸ“Œ **Exemplo de uso**:

```js
const { defineConfig } = require("cypress");

module.exports = defineConfig({
  e2e: {
    baseUrl: 'http://localhost:3000',
    specPattern: 'cypress/e2e/**/*.cy.js',
  },
});
```
## ğŸ“¦ 2. package.json

Este arquivo Ã© o coraÃ§Ã£o do seu projeto Node.js.

Armazena:
- Nome e versÃ£o do projeto.
- Scripts disponÃ­veis (como test ou cypress open).
- DependÃªncias instaladas, como o Cypress.

Permite rodar comandos como:

```bash
npm run cypress:open
```
 Exemplo de conteÃºdo:
```bash
{
  "name": "projeto-cypress",
  "version": "1.0.0",
  "scripts": {
    "cypress:open": "cypress open"
  },
  "dependencies": {
    "cypress": "^13.12.0"
  }
}
```
## 3. package-lock.json

Arquivo gerado automaticamente quando vocÃª instala pacotes com npm.

Garante que as mesmas versÃµes exatas das dependÃªncias sejam instaladas por todos que usam o projeto.

Ajuda a evitar conflitos de versÃ£o e manter o ambiente de testes estÃ¡vel.

ğŸ“Œ **ObservaÃ§Ã£o**: VocÃª nÃ£o edita esse arquivo manualmente. Ele Ã© gerado e atualizado pelo npm.

---

## âœ… Resumo

| Arquivo                  | FunÃ§Ã£o Principal                                         |
|--------------------------|----------------------------------------------------------|
| cypress.config.js         | Configura o comportamento do Cypress.                    |
| package.json              | Gerencia scripts e dependÃªncias do projeto.              |
| package-lock.json         | Garante instalaÃ§Ã£o consistente das dependÃªncias.         |

---

### ğŸ“Œ **ObservaÃ§Ã£o**: Caso os arquivos descritos acima nÃ£o sejam exibidos:
### Inicializando o projeto com npm e instalando o Cypress

Antes de comeÃ§ar a utilizar o Cypress, Ã© necessÃ¡rio garantir que seu projeto esteja inicializado com o `npm` e que o Cypress esteja instalado como uma dependÃªncia de desenvolvimento.

#### Inicialize seu projeto com `npm` (caso ainda nÃ£o tenha feito):

Abra o terminal na raiz do seu projeto e execute:
```bash
npm init -y
```
Instale o Cypress como dependÃªncia de desenvolvimento:
```bash
npm install cypress --save-dev
```
Agora, abra o Cypress com:
```bash
npx cypress open
```


# CapÃ­tulo 6 â€“ VisÃ£o Geral da Tela: Interface Principal do Cypress
A imagem mostra a interface do Cypress logo apÃ³s a escolha do navegador, onde podemos:
- Criar arquivos de teste (**specs**),
- Acompanhar execuÃ§Ãµes,
- Depurar erros,
- Ajustar configuraÃ§Ãµes do projeto.

### ğŸ” Lado Esquerdo (Menu de NavegaÃ§Ã£o)
#### ğŸ“ Specs
- Onde ficam listados os arquivos de teste (**specs**).
- Aqui vocÃª pode criar, visualizar e executar testes.
- Ã‰ a aba padrÃ£o ao abrir o Cypress.

#### â–¶ï¸ Runs
- Lista as execuÃ§Ãµes dos testes.
- Se vocÃª integrar com o **Cypress Dashboard** (plano pago), verÃ¡ o histÃ³rico de execuÃ§Ãµes nesta aba.

#### ğŸ Debug
- Usado para depuraÃ§Ã£o de testes.
- Permite inspecionar comportamentos durante o teste, Ãºtil para identificar falhas.

#### âš™ï¸ Settings
- Ãrea para configurar o projeto.
- Permite definir diretÃ³rios, padrÃµes de arquivos de testes, variÃ¡veis de ambiente, entre outros.

---

## ğŸ“„ Ãrea Central (ConteÃºdo Principal)
### **TÃ­tulo:** *Create your first spec*
- O Cypress detectou que nÃ£o existem arquivos de teste no projeto ainda.
- Ele recomenda criar **specs de exemplo** ou **um novo do zero**.

#### Duas opÃ§Ãµes principais:
**ğŸ“¦ Scaffold example specs**
- Cria automaticamente vÃ¡rios arquivos com exemplos de testes Cypress.
- Ideal para iniciantes aprenderem pela prÃ¡tica.

**ğŸ“„ Create new spec**
- Gera um arquivo de teste em branco.
- Recomendado para quem jÃ¡ sabe o que vai testar e quer comeÃ§ar do zero.

### âš ï¸ Mensagem informativa
*"If you feel that you're seeing this screen in error..."*
- Se vocÃª jÃ¡ tem arquivos de testes e nada aparece, provavelmente o Cypress nÃ£o estÃ¡ encontrando os arquivos porque o padrÃ£o de busca (**spec pattern**) precisa ser ajustado.
- VocÃª pode clicar no botÃ£o **"View spec pattern"** para ver ou editar esse padrÃ£o.

---

## ğŸ” Parte Superior Direita
- **VersÃ£o do Cypress:** Aqui vemos que Ã© a `v13.12.0`.
- **Navegador ativo:** EstÃ¡ usando `Electron v118` neste exemplo.
- **Docs:** Acesso rÃ¡pido Ã  documentaÃ§Ã£o oficial do Cypress.
- **Log in:** Permite se conectar ao **Cypress Dashboard**.

