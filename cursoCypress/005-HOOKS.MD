# ğŸ” Cypress Hooks

O Cypress utiliza **hooks** herdados da biblioteca [Mocha](https://mochajs.org/). Eles sÃ£o muito Ãºteis para definir **aÃ§Ãµes que devem ser executadas antes ou depois de um conjunto de testes**, ou antes/depois de cada teste individual.

---

## ğŸ“Œ O que sÃ£o Hooks?

Hooks sÃ£o funÃ§Ãµes especiais que permitem configurar o ambiente de teste e realizar tarefas como **configuraÃ§Ã£o inicial, autenticaÃ§Ã£o, limpeza de dados, entre outras**.

## ğŸ§© Tipos de Hooks

### ğŸ”¹ `before()`
Executado **uma Ãºnica vez antes de todos os testes** do bloco.

```javascript
before(() => {
  // Executa uma vez antes de todos os testes
});
```
âœ… Ideal para configuraÃ§Ãµes globais, como autenticaÃ§Ã£o ou criaÃ§Ã£o de dados de teste.

### ğŸ”¹ `beforeEach()`
Executado antes de cada teste individual.

```javascript
beforeEach(() => {
  // Executa antes de cada teste
});
```
#### âœ… Por que usar beforeEach?
Evita repetiÃ§Ã£o de cÃ³digo em cada it()

Facilita a manutenÃ§Ã£o dos testes

Garante um estado consistente para cada teste

Ajuda a manter os testes independentes uns dos outros

### ğŸ”¹ `afterEach()`
Executado apÃ³s cada teste individual.

```javascript
afterEach(() => {
  // Executa apÃ³s cada teste
});
```
âœ… Usado para fazer limpeza entre os testes, se necessÃ¡rio.

ğŸš« AtenÃ§Ã£o: o uso de afterEach() para limpar dados pode ser um anti-padrÃ£o se isso for essencial para o sucesso dos testes seguintes. O ideal Ã© que os testes sejam independentes entre si.

### ğŸ”¹ `after()`
Executado uma Ãºnica vez apÃ³s todos os testes do bloco.

```javascript
after(() => {
  // Executa uma vez depois de todos os testes
});
```
âœ… Pode ser usado para finalizar ou remover dados de teste criados por before().

### ğŸ“¦ Exemplo completo com todos os hooks

```javascript
describe('Hooks', () => {
  before(() => {
    // Executa uma vez antes de todos os testes no bloco
  });

  beforeEach(() => {
    // Executa antes de cada teste no bloco
  });

  it('Teste 1', () => {
    // Primeiro teste
  });

  it('Teste 2', () => {
    // Segundo teste
  });

  afterEach(() => {
    // Executa apÃ³s cada teste no bloco
  });

  after(() => {
    // Executa uma vez apÃ³s todos os testes no bloco
  });
});
```

### ğŸ“‹ Ordem de execuÃ§Ã£o dos hooks
Todos os before() sÃ£o executados (uma vez)

- 1-  Para cada teste:

- 2-  Executa beforeEach()

- 3-  Executa o teste

- 4-  Executa afterEach()

ApÃ³s todos os testes:

- 5-  Executa after()

### ğŸš¨ AtenÃ§Ã£o ao uso de after() e afterEach()
- Evite usar after() ou afterEach() para "limpar estado essencial". Isso pode causar testes inconsistentes ou dependentes uns dos outros, o que quebra o princÃ­pio de testes isolados.

- Dica final: Prefira construir e destruir o estado necessÃ¡rio dentro de cada teste ou com beforeEach(), garantindo a independÃªncia total entre os testes.
